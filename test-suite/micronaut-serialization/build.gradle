plugins {
    id 'io.micronaut.build.internal.micrometer-module'
}

dependencies {
    annotationProcessor mn.micronaut.graal

    testAnnotationProcessor mn.micronaut.inject.java
    testAnnotationProcessor projects.micrometerAnnotation
    testImplementation mn.groovy.json
    testImplementation libs.grpc.api
    testImplementation mn.micronaut.function.web
    testImplementation mn.micronaut.http.client
    testImplementation mn.micronaut.http.server.netty
    testImplementation mn.micronaut.inject.groovy
    testImplementation mn.micronaut.management
    testImplementation mn.netty.buffer
    testImplementation libs.netty.transport
    testImplementation mn.netty.transport.native.epoll
    testImplementation mn.netty.transport.native.kqueue
    testImplementation projects.micrometerCore
    testRuntimeOnly mn.micronaut.http.server.netty
}

configurations.all {
    resolutionStrategy.dependencySubstitution {
        substitute(module("io.micronaut:micronaut-jackson-databind"))
                .using(module("io.micronaut.serde:micronaut-serde-jackson:$micronautSerializationVersion"))
    }
}
